@page "/products"
    @using Store.Dto;
    @using Store.Service.Contract;

    @inject IProductService _productService

<PageTitle>Product</PageTitle>

@* <button class="btn btn-primary" @onclick="OnEvaluateCLick">Click me</button>*@
<MudTable Items="@products">
    <HeaderContent>
        <MudTh>Name</MudTh>
        <MudTh>Category</MudTh>
        <MudTh>Price</MudTh>
        <MudTh>Actions</MudTh> 
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLable="Name">@context.Name</MudTd>
            <MudTd DataLabel="Category">@context.Category</MudTd> 
             <MudTd DataLabel="Price">@context.Price</MudTd>
            <MudFab Color="Color.Tertiary" StartIcon="@Icons.Material.Filled.ShoppingCart" DisableElevation="true" />
        </RowTemplate>
    </MudTable>


    @code
    {
    private List<ProductDto>? products;

    protected async override Task OnInitializedAsync()
    {
        products = await _productService.GetAll();
    }

    private async Task OnEvaluateCLick()
    {
        Console.WriteLine("!!!!!");
        products = await _productService.GetAll();
    }
    }